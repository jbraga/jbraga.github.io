{
  "openapi": "3.0.1",
  "info": {
    "title": "Worldnet API",
    "description": "# Introduction\nThe Worldnet API enables you to connect seamlessly and securely to our [Omni-Channel Payments Platform](https://www.worldnetpayments.com/).\n\nOur API's are built around [REST](https://en.wikipedia.org/wiki/Representational_state_transfer) principles and [OpenAPI Specification](https://www.openapis.org/) definitions.\nComplying to such industry standards means that we can offer developers a much better experience by exposing predictable resource-oriented URL's as well as a comprehensive range of HTTP response codes and verbs.\nMoreover, you have the possibility to enable and take full advantage of [HATEOAS](https://en.wikipedia.org/wiki/HATEOAS) controls in order to provide out-of-the-box `Discoverability` and `Functional-Awareness` for your integrations.\n\nGet started on building full-featured payment applications and join us in the Revolution of Intelligent Retail.\n\n# Authentication\nThe Worldnet API uses a combination of API Keys and [Java Web Tokens (JWT)](https://jwt.io/) to authenticate requests. \nAPI Key's hold all the necessary information for issuing JWT access tokens which in turn are required for all authenticated operations.\nTherefore, before you can start making any calls, you must generate an API Key and use it to obtain an access token.\n\nPlease, make yourself familiar with the following security schemes before proceeding:\n<!-- ReDoc-Inject: <security-definitions> -->\n## Generating an API Key\nIn order to generate your first API Key you must [sign up](#) for a developer account and follow the steps below:\n1. [Log into the SelfCare System](#) with the credentials you received in the welcome email.\n2. Under *Settings*, navigate to *API Keys*, and then click the `NEW API KEY` button.\n4. Enter an alias and set the permission modes for each Sub-API.\n5. Select the processing terminals that your Key will be allowed to operate.\n6. Back on the list, choose the action `View Authentication Key` to be able to see your API Key.\n\n## Obtaining an Access Token\nIn order to obtain an access token you must use the [authenticate](#operation/authenticate) operation passing your API Key in the `HTTP Authorization` header with `Basic` authentication scheme.\n\nIn the snippet bellow we show how to achieve that using [cURL](https://github.com/curl/curl). However, if you are not familiar with command line tools we recommend [Postman](https://www.getpostman.com/) instead.\n\n```\ncurl https://devpayments.worldnettps.com/merchant/api/v1/account/authenticate \\\n  -H \"Authorization: Basic <Merchant API Key>\"\n```\n\nFor every successful request you should receive a response just like the one bellow containing the information associated with your crendentials, such as hours to expiry and privileges.\nInclude the JWT Token from the `token` property in the `Authorization` header with `Bearer` authentication scheme for every following request in order to prove your identity and access protected resources.\n\n```\n{\n    \"audience\": \"devpayments.worldnettps.com\",\n    \"boundTo\": \"<Key Alias>\",\n    \"tokenType\": \"Bearer\",\n    \"token\": \"<JWT Token>\",\n    \"issuedAt\": \"<Issue Date>\",\n    \"expiresIn\": \"<Hours to Expiry>\",\n    \"enableHypermedia\": true,\n    \"roles\": [\n        // List of privileges\n    ],\n    \"allowedTerminals\": [\n        // List of terminals\n    ]\n}\n```\n\nFor security reasons, access tokens expire after a certain amount of time. Therefore, your application must implement a mechanism to keep track of `issuedAt` and `expiresIn` values in order to decide the right moment to automatically request new tokens.\n\n**Note:** Your application must not hard-code the lifespan of a token as the value of `expiresIn` property is subject to change without prior notice.\n\n## Making Authenticated Calls\nApart from the [authenticate](#operation/authenticate) operation, the entire API requires `Bearer` authentication scheme and expects a valid JWT token as proof of identity.\nThe [cURL](https://github.com/curl/curl) snippet bellow is an example of how to use your access token, in this case, to request the list of terminals available for your account.\n\n```\ncurl https://devpayments.worldnettps.com/merchant/api/v1/account/terminals?pageSize=10 \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer <JWT Token>\"\n```\n\n**Note:** The API will issue a response with status `401 Unauthorized` for requests carrying an expired JWT.\n\n# API Requests\nWe provide developers looking to integrate with our solutions with a full-featured **Sandbox**.\n\n- Sandbox URL: https://devpayments.worldnettps.com/merchant\n\nIn order to perform actions on the API's resources you must combine your requests with the proper [HTTP Request Method](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods).\n\nThe Worldnet API supports the following HTTP Methods which are sometimes referred as *HTTP Verbs*:\n\nHTTP Method  | Description\n------------ | -------------\n[GET](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET) | It requests a representation of the specified resource. Requests using `GET` are ready-only.\n[POST](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST) | It is used to submit an entity to the specified resource, often causing a change in state on the server.\n[PATCH](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PATCH) | It is used to apply partial modifications to a resource.\n[DELETE](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/DELETE) | It deletes / cancels / reverts the specified resource.\n\n## Request Identifiers\nThe Worldnet API assigns a unique identifier for every request that comes in. You can find your requests' identifiers either in the `X-Request-Id` header or in the Error field `debugIdentifier`.\n\nRequest ID's are part of an effort to speed troubleshooting by facilitating communication between clients and our support team.\nSince we keep track of all request identifiers in our log files, you just need to inform the request's identifier when asking us to assist you with problems that might come up during your integrations.\n\n## Request Headers\nHTTP Header  | Description\n------------ | -------------\n[Accept](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept) | The response format expected by your application.<br />The Worldnet API only produces `application/json` response format.\n[Accept-Language](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language) | It advertises which languages the client is able to understand, and which locale variant is preferred.<br />The Worldnet API fully supports English `en` and French `fr` languages.\n[Content-Type](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type) | The body format of the request your application is sending to the API.<br />The Worldnet API only consumes `application/json` content type.\n[Authorization](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization) | It must contain contain the credentials (API Key or JWT Access Token) to authenticate your application.<br />The API will issue a `401 Unauthorized` response with the `WWW-Authenticate` header attached if your application fails to use this header properly.\n\n## Testing Requests\nEventually it will be necessary to perform some transactions.\nFor resources such as testing credit cards and simulated responses, see [Testing Resources](https://docs.worldnettps.com/doku.php?id=developer:integration_docs:testing-guide#testing_resources).\n\n# API Responses\nClient applications must be able to handle JSON body format as well as a range of [HTTP status codes](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status) when processing responses.\nSome resources might also include contextual hypermedia links. We strongly recommend that clients use these links in order to request more information or perform additional actions on a given resource.\n\n## HTTP Status Codes\nThe Worldnet API adopted a comprehensive range of status codes where `2XX` statuses are returned for successful requests and `4XX` or `5XX` for failed requests.\n\nFind below the full range of status codes:\n\nHTTP Status Code  | Description\n----------------- | -------------\n[200 OK](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200) | Indicates that the request has succeeded.\n[201 Created](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/201) | Indicates that the request has succeeded and has led to the creation of a resource.\n[204 No Content](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204) | Indicates that the server successfully executed the method but returns no response body.<br />This status is sent especifically to respond to `DELETE` requests.\n[400 Bad Request](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400) | Indicates that the server cannot or will not process the request due to malformed request syntax or schema violation.\n[401 Unauthorized](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401) | Indicates that the request has not been applied because it lacks valid authentication credentials.<br />This status is sent with a `WWW-Authenticate` header that contains information on how to authorize correctly.\n[403 Forbidden](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/403) | Indicates that the server understood the request but refuses to authorize it due to the lack of permissions.<br />Re-authenticating will make no difference until the proper permissions and terminals are added to the API Key.\n[404 Not Found](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404) | Indicates that the server cannot find the requested resource.\n[405 Method Not Allowed](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405) | Indicates that the request method is known by the server but is not supported by the target resource.\n[406 Not Acceptable](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/406) | Indicates that the server cannot produce a response matching the value from `Accept` header.\n[415 Unsupported Media Type](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/415) | Indicates that the server refuses to accept the request because the payload format described by the `Content-Type` is unsupported.\n[422 Unprocessable Entity](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/422) | Indicates that the server understands the content type of the request entity, and the syntax of the request entity is correct, but it was unable to proceed due to semantic errors or failed business validations.\n[500 Internal Server Error](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/500) | Indicates that the server encountered an unexpected condition that prevented it from fulfilling the request.\n[501 Not Implemented](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/501) | Indicates that the server does not yetsupport the functionality required to fulfill the request, but might in the future.\n\n## Error Handling\nFor all errors Worldnet returns an error response body that includes additional details in the format below:\n\n```\n{\n    \"debugIdentifier\": \"ae6d75eb-381b-4a01-9f49-fdff12e3848b\",\n    \"details\": [\n        {\n            \"errorCode\": \"X_400_002\",\n            \"errorMessage\": \"Unable to deserialize value\",\n            \"source\": {\n                \"location\": \"BODY\",\n                \"resource\": \"TipType\",\n                \"property\": \"type\",\n                \"value\": \"VARIABLE\",\n                \"expected\": \"Acceptable values: [PERCENTAGE, FIXED_AMOUNT]\"\n            }\n        }\n    ]\n}\n```\n\nError messages are intented to help developers to fix any problems that may come up during integration.<br />However, if you ever have a hard time troubleshooting an issue or even wish to make a suggestion, do not hesitate to [contact us](https://worldnettps.com/contact/).\nDo not forget to send us the `debugIdentifier` along with your inquiries.\n\n## HATEOAS (Hypermedia Links)\n[HATEOAS](https://en.wikipedia.org/wiki/HATEOAS) is a powerful mechanism when it comes to enabling self-discoverability, reducing invalid state transition calls and protecting your application against unexpected changes on resources URL's.\n\nThis snippet from a sample `payments` response shows the list of hypermedia controls that represent the operations available for the newly created payment resource.\n\n```\n\"links\": [\n        {\n            \"params\": {\n                \"rel\": \"capture\",\n                \"type\": \"PATCH\"\n            },\n            \"href\": \"https://devpayments.worldnettps.com/merchant/api/v1/transaction/payments/GH2AERQEJS/capture\"\n        },\n        {\n            \"params\": {\n                \"rel\": \"refund\",\n                \"type\": \"POST\"\n            },\n            \"href\": \"https://devpayments.worldnettps.com/merchant/api/v1/transaction/payments/GH2AERQEJS/refunds\"\n        },\n        {\n            \"params\": {\n                \"rel\": \"update\",\n                \"type\": \"PATCH\"\n            },\n            \"href\": \"https://devpayments.worldnettps.com/merchant/api/v1/transaction/payments/GH2AERQEJS\"\n        },\n        {\n            \"params\": {\n                \"rel\": \"self\",\n                \"type\": \"GET\"\n            },\n            \"href\": \"https://devpayments.worldnettps.com/merchant/api/v1/transaction/payments/GH2AERQEJS\"\n        },\n        {\n            \"params\": {\n                \"rel\": \"reverse\",\n                \"type\": \"DELETE\"\n            },\n            \"href\": \"https://devpayments.worldnettps.com/merchant/api/v1/transaction/payments/GH2AERQEJS\"\n        }\n    ]\n```\n\n# Pagination\nWorldnet implements cursor-based pagination which is sometimes referred as continuation token pagination.\nThis pagination approach works by returning a pointer to a specific item in the dataset. On subsequent requests, the server returns results after the given pointer.\n\nFor all pagination resources Worldnet returns the total count and a hypermedia link that points to the next set of results.\nAlthough client applications are able to implement pagination manually by sending the cursor via the `next` query parameter, we strongly recommend the use of the pagination link as showed below:\n```\n\"links\": [\n    {\n        \"params\": {\n            \"rel\": \"next\",\n            \"type\": \"GET\"\n        },\n        \"href\": \"https://devpayments.worldnettps.com/merchant/api/v1/account/terminals?next=CWY4XRGUUY\"\n    }\n],\n\"totalCount\": 2\n```\n\nThe default and maximum number of elements per page is `100`, but you can change it by adding the query parameter `pageSize` to your requests as follows.\n```\ncurl https://devpayments.worldnettps.com/merchant/api/v1/account/terminals?pageSize=5 \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Authorization: Bearer <JWT Token>\"\n```\n\n# Versioning\nVersioning ensures that changes are backward compatible. The Worldnet API uses a major and minor version nomenclature to manage changes.\n\n## Major Versions\nMajor version numbers will reflect in the REST URL, for example `/api/v1/transaction/payments`.\n\nCurrently, **v1** is the only supported major version.\n\n## Minor Versions\nMinor and backward-compatible changes will be advertised via `X-API-Version` response header, for example `X-API-Version: 2020-01-01`.\n\nDevelopers should use this header to keep track of new features and optimisations that might benefit their applications.\n",
    "contact": {
      "name": "Support Team",
      "url": "https://worldnettps.com/contact/",
      "email": "support@worldnettps.com"
    },
    "version": "v1",
    "x-logo": {
      "url": "worldnet-logo.png",
      "backgroundColor": "#FFFFFF",
      "altText": "Worldnet"
    }
  },
  "servers": [
    {
      "url": "//devpayments.worldnettps.com/merchant",
      "description": "Sandbox Server"
    }
  ],
  "tags": [
    {
      "name": "Access Tokens",
      "description": "Authentication Operations"
    },
    {
      "name": "Settings",
      "description": "Terminal and Device Settings"
    },
    {
      "name": "Balances",
      "description": "EBT Balance Inquiries"
    },
    {
      "name": "Secure Credentials",
      "description": "Tokenization of customer's cards and accounts"
    },
    {
      "name": "Payments",
      "description": "Sales, Pre-authorizations, Captures and Reversals Transactions"
    },
    {
      "name": "Refunds",
      "description": "Refunds / Returns / Cancelations"
    },
    {
      "name": "Transactions",
      "description": "List of payments and refunds"
    }
  ],
  "paths": {
    "/api/v1/account/authenticate": {
      "get": {
        "tags": [
          "Access Tokens"
        ],
        "description": "Use this operation to exchange your `API Key` for a `JWT Token` that will give you access to the API.",
        "operationId": "authenticate",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Basic <Merchant API Key>"
          }
        ],
        "responses": {
          "200": {
            "description": "JWT Access Token has been issued successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccessToken"
                }
              }
            }
          },
          "401": {
            "description": "Authentication failed, the API Key has either been revoked or not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Authorization failed, the requester's host is not allowed to use the API Key",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        },
        "security": [
          {
            "Basic": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "AccessToken": {
        "required": [
          "audience",
          "boundTo",
          "enableHypermedia",
          "expiresIn",
          "issuedAt",
          "token",
          "tokenType"
        ],
        "type": "object",
        "properties": {
          "audience": {
            "type": "string",
            "description": "The intended audience for the token",
            "example": "devpayments.worldnettps.com"
          },
          "boundTo": {
            "type": "string",
            "description": "Alias of the Merchant API Key to which the access token is bound"
          },
          "tokenType": {
            "type": "string",
            "description": "Authentication scheme",
            "example": "Bearer"
          },
          "token": {
            "type": "string",
            "description": "JWT Access Token"
          },
          "issuedAt": {
            "type": "string",
            "description": "Exact date and time the token has been issued",
            "format": "date-time"
          },
          "expiresIn": {
            "type": "integer",
            "description": "Number of hours after which the token will be expired",
            "format": "int32"
          },
          "enableHypermedia": {
            "type": "boolean",
            "description": "Indicates whether or not hypermedia links should be injected into response"
          },
          "roles": {
            "uniqueItems": true,
            "type": "array",
            "description": "Set of roles the token was granted",
            "example": "transaction-api:ready-only",
            "items": {
              "type": "string",
              "description": "Set of roles the token was granted",
              "example": "transaction-api:ready-only"
            }
          },
          "allowedTerminals": {
            "uniqueItems": true,
            "type": "array",
            "description": "Set of terminal numbers the token is allowed to operate",
            "items": {
              "type": "string",
              "description": "Set of terminal numbers the token is allowed to operate"
            }
          }
        }
      },
      "Error": {
        "required": [
          "debugIdentifier",
          "details"
        ],
        "type": "object",
        "properties": {
          "debugIdentifier": {
            "type": "string"
          },
          "details": {
            "uniqueItems": true,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ErrorDetail"
            }
          }
        }
      },
      "ErrorDetail": {
        "required": [
          "errorCode",
          "errorMessage"
        ],
        "type": "object",
        "properties": {
          "about": {
            "type": "string",
            "format": "uri"
          },
          "errorCode": {
            "type": "string"
          },
          "errorMessage": {
            "type": "string"
          },
          "source": {
            "$ref": "#/components/schemas/ErrorSource"
          }
        }
      },
      "ErrorSource": {
        "required": [
          "location"
        ],
        "type": "object",
        "properties": {
          "location": {
            "type": "string",
            "enum": [
              "HEADER",
              "BODY",
              "PATH",
              "QUERY"
            ]
          },
          "resource": {
            "type": "string"
          },
          "property": {
            "type": "string"
          },
          "expected": {
            "type": "object"
          }
        }
      }
    },
    "securitySchemes": {
      "Basic": {
        "type": "http",
        "description": "Use `Basic` authentication scheme to exchange your API Key for JWT Access Tokens.\n",
        "scheme": "basic"
      },
      "Bearer": {
        "type": "http",
        "description": "Use `Bearer` authentication scheme to prove your identity in order to access protected resources.\n",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "x-tagGroups": [
    {
      "name": "ACCOUNT API",
      "tags": [
        "Access Tokens",
        "Settings"
      ]
    },
    {
      "name": "CUSTOMER API",
      "tags": [
        "Balances",
        "Secure Credentials"
      ]
    },
    {
      "name": "TRANSACTION API",
      "tags": [
        "Payments",
        "Refunds",
        "Transactions"
      ]
    }
  ]
}
